{% extends 'main_sample/base.html' %}

{% block content %}
    <h2>Редактирование пользователя: {{ user.username }}</h2>

    <form action="{{ url_for('edit_user', user_id=user.id) }}" method="post">
        <div class="mb-3">
            <label for="username" class="form-label">Имя пользователя</label>
            <input type="text" class="form-control" id="username" name="username" value="{{ user.username }}" required>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" required>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Пароль (оставьте пустым, чтобы не менять)</label>
            <input type="password" class="form-control" id="password" name="password">
        </div>
        <label for="roles">Выберите роли:</label>

        <div>
            <input type="checkbox" name="is_admin" id="is_admin" value="true" {{ 'checked' if user.is_admin else '' }}>
            <label for="is_admin">Удаление пользователей</label>
        </div>

        <div>
            <input type="checkbox" name="is_editor" id="is_editor" value="true" {{ 'checked' if user.is_editor else '' }}>
            <label for="is_editor">Редактирование пользователей</label>
        </div>
        <div>
            <input type="checkbox" name="can_create_users" id="can_create_users" value="true" {{ 'checked' if user.can_create_users else '' }}>
            <label for="can_create_users">Может создавать пользователей</label>
        </div>

        <button type="submit" class="btn btn-primary">Обновить</button>
    </form>
{% endblock %}
